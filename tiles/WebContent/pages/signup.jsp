 <%@taglib uri="/struts-tags" prefix="s"%>
    <div class="row searchable ">
        

    <div class="large-12 small-12 columns signupbg">
        <div class="top-band">
            <h3>Sign Up to Receive Benefiber<sup>®</sup> Updates</h3>
        </div>
    </div>
    <div class="large-12 small-12 columns signup-section-form">
        <div class="large-12 small-12 small-centered  large-centered columns small-signup">
            <p><b>Please enter your date of birth</b></p>
            <form id="formsignup1" method="post" data-abide novalidate>
                <ul class="small-block-grid-3 large-block-grid-3 signup-grid">
                    <li>
                        <div class="name-field" id="d1">
                            <select name="Month" id="Month" class="pl-dropdown" required>
                                <option value="">Month</option>
                                    <option value="1">Jan</option>
                                    <option value="2">Feb</option>
                                    <option value="3">Mar</option>
                                    <option value="4">Apr</option>
                                    <option value="5">May</option>
                                    <option value="6">Jun</option>
                                    <option value="7">Jul</option>
                                    <option value="8">Aug</option>
                                    <option value="9">Sep</option>
                                    <option value="10">Oct</option>
                                    <option value="11">Nov</option>
                                    <option value="12">Dec</option>
                            </select>
                            <small class="error">Please select a valid month.</small>
                        </div>
                    </li>

                    <li>
                        <div class="name-field" id="d2">
                            <select name="Date" id="Date" title="" class="pl-dropdown" required>
                                <option value="">Day</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15">15</option>
                                    <option value="16">16</option>
                                    <option value="17">17</option>
                                    <option value="18">18</option>
                                    <option value="19">19</option>
                                    <option value="20">20</option>
                                    <option value="21">21</option>
                                    <option value="22">22</option>
                                    <option value="23">23</option>
                                    <option value="24">24</option>
                                    <option value="25">25</option>
                                    <option value="26">26</option>
                                    <option value="27">27</option>
                                    <option value="28">28</option>
                                    <option value="29">29</option>
                                    <option value="30">30</option>
                                    <option value="31">31</option>
                            </select>
                            <small class="error">Please select a valid date.</small>
                        </div>
                    </li>

                    <li>
                        <div class="name-field" id="d3">
                            <select name="Year" id="Year" title="" class="pl-dropdown" required>
                                <option value="">Year</option>
                                    <option value="2014">2014</option>
                                    <option value="2013">2013</option>
                                    <option value="2012">2012</option>
                                    <option value="2011">2011</option>
                                    <option value="2010">2010</option>
                                    <option value="2009">2009</option>
                                    <option value="2008">2008</option>
                                    <option value="2007">2007</option>
                                    <option value="2006">2006</option>
                                    <option value="2005">2005</option>
                                    <option value="2004">2004</option>
                                    <option value="2003">2003</option>
                                    <option value="2002">2002</option>
                                    <option value="2001">2001</option>
                                    <option value="2000">2000</option>
                                    <option value="1999">1999</option>
                                    <option value="1998">1998</option>
                                    <option value="1997">1997</option>
                                    <option value="1996">1996</option>
                                    <option value="1995">1995</option>
                                    <option value="1994">1994</option>
                                    <option value="1993">1993</option>
                                    <option value="1992">1992</option>
                                    <option value="1991">1991</option>
                                    <option value="1990">1990</option>
                                    <option value="1989">1989</option>
                                    <option value="1988">1988</option>
                                    <option value="1987">1987</option>
                                    <option value="1986">1986</option>
                                    <option value="1985">1985</option>
                                    <option value="1984">1984</option>
                                    <option value="1983">1983</option>
                                    <option value="1982">1982</option>
                                    <option value="1981">1981</option>
                                    <option value="1980">1980</option>
                                    <option value="1979">1979</option>
                                    <option value="1978">1978</option>
                                    <option value="1977">1977</option>
                                    <option value="1976">1976</option>
                                    <option value="1975">1975</option>
                                    <option value="1974">1974</option>
                                    <option value="1973">1973</option>
                                    <option value="1972">1972</option>
                                    <option value="1971">1971</option>
                                    <option value="1970">1970</option>
                                    <option value="1969">1969</option>
                                    <option value="1968">1968</option>
                                    <option value="1967">1967</option>
                                    <option value="1966">1966</option>
                                    <option value="1965">1965</option>
                                    <option value="1964">1964</option>
                                    <option value="1963">1963</option>
                                    <option value="1962">1962</option>
                                    <option value="1961">1961</option>
                                    <option value="1960">1960</option>
                                    <option value="1959">1959</option>
                                    <option value="1958">1958</option>
                                    <option value="1957">1957</option>
                                    <option value="1956">1956</option>
                                    <option value="1955">1955</option>
                                    <option value="1954">1954</option>
                                    <option value="1953">1953</option>
                                    <option value="1952">1952</option>
                                    <option value="1951">1951</option>
                                    <option value="1950">1950</option>
                                    <option value="1949">1949</option>
                                    <option value="1948">1948</option>
                                    <option value="1947">1947</option>
                                    <option value="1946">1946</option>
                                    <option value="1945">1945</option>
                                    <option value="1944">1944</option>
                                    <option value="1943">1943</option>
                                    <option value="1942">1942</option>
                                    <option value="1941">1941</option>
                                    <option value="1940">1940</option>
                                    <option value="1939">1939</option>
                                    <option value="1938">1938</option>
                                    <option value="1937">1937</option>
                                    <option value="1936">1936</option>
                                    <option value="1935">1935</option>
                                    <option value="1934">1934</option>
                                    <option value="1933">1933</option>
                                    <option value="1932">1932</option>
                                    <option value="1931">1931</option>
                                    <option value="1930">1930</option>
                                    <option value="1929">1929</option>
                                    <option value="1928">1928</option>
                                    <option value="1927">1927</option>
                                    <option value="1926">1926</option>
                                    <option value="1925">1925</option>
                                    <option value="1924">1924</option>
                                    <option value="1923">1923</option>
                                    <option value="1922">1922</option>
                                    <option value="1921">1921</option>
                                    <option value="1920">1920</option>
                                    <option value="1919">1919</option>
                                    <option value="1918">1918</option>
                                    <option value="1917">1917</option>
                                    <option value="1916">1916</option>
                                    <option value="1915">1915</option>
                                    <option value="1914">1914</option>
                            </select>
                            <small class="error">Please select a valid year.</small>
                        </div>
                    </li>
                </ul>
                <ul class="small-block-grid-1 large-block-grid-1 signup-msgdiv">
                    <li>
                        <div id="Part3" class="privacyerrormsg" style="display: none;">
                            <h3>We're sorry.</h3> <p>You are not eligible to participate.</p>
                        </div>
                    </li>
                    <li>
                        <button type="submit" class="large button expand largebutton" id="btnEnter">Enter</button>
                    </li>

                </ul>
            </form>
        </div>
        <div class="large-12 small-12 small-centered  large-centered columns optin-grid">
            <form id="formsignup" method="post" class="custom" data-abide novalidate="novalidate">
                <input type="hidden" id="dateOfBirth" />
                <input type ="hidden" id="26538ff9-5101-4cc9-a24c-d5022f92223c" value="0" />
                <ul class="small-block-grid-1 large-block-grid-2">
                    <li>
                        <div class="name-field">
                            <input id="firstName" name="firstName" pattern="alpha" placeholder="First Name" required="required" type="text" value="" />
                            <small class="error">Please enter a valid First Name.</small>
                        </div>
                    </li>

                    <li>
                        <div class="name-field">
                            <input id="lastName" name="lastName" pattern="alpha" placeholder="Last Name" required="required" type="text" value="" />
                            <small class="error">Please enter a valid Last Name. </small>
                        </div>
                    </li>

                    <li>

                        <div class="name-field">
                            <input id="email" name="email" placeholder="Email" required="" type="email" value="" />
                            <small class="error">Please enter a valid Email.</small>
                        </div>
                    </li>

                    <li>
                        <div class="name-field">
                            <input id="zip" maxlength="5" name="zip" pattern="^\d{5}(-\d{4})?$" placeholder="Zip Code" required="" type="text" value="" />
                            <small class="error">Please enter a valid Zip Code.</small>
                        </div>
                    </li>

                    <li>
                        <div class="name-field">
                            <input id="mobilePhone" maxlength="20" name="mobilePhone" pattern="^[01]?[- .]?\(?[2-9]\d{2}\)?[- .]?\d{3}[- .]?\d{4}$" placeholder="Mobile Phone #" type="text" value="" />
                            <small class="error">Please enter a valid Mobile Phone  #.</small>
                        </div>
                    </li>
                </ul>

                <hr />
                <ul class="large-block-grid-1 small-block-grid-1 signup-msgdiv">
                    <li class="form-spacer">
                        <b>Yes, I would like to receive periodic special offers and timely updates about Benefiber<sup>®</sup> products via email. I agree to the Privacy Policy and I confirm that I am 18 or older.</b>
                    </li>
                    <li class="form-spacer">
                        <input type="checkbox" id="checkbox1">
                        <span class="custom checkbox"></span>
                        <label for="checkbox1">via email</label>
                    </li>
                    <li>
                        <div class="privacyerrormsg" id="lblerrforTerms" style="display: none">
                            You must agree to our Privacy Policy.
                        </div>
                    </li>
                </ul>
                <ul class="large-block-grid-1 small-block-grid-1 signup-msgdiv">
                    <hr />
                    <li>
                        <button type="submit" class="large button expand largebutton" id="btnSend">Join</button>
                    </li>
                    <li>
                        <div class="successmsg" id="results" style="display: none;">
                            Thanks! Your information has been successfully submitted.
                        </div>
                    </li>
                </ul>
            </form>
        </div>
    </div>
    <div id="wait" class="reveal-modal tiny">
        <img src='./foundation/Images/loading.gif' alt="" />
    </div>

    <div id="ErrorMsg" class="reveal-modal progress">
        <h3>We're sorry.</h3> <p>You are not eligible to participate.</p>
        <input type="submit" id="btnClose" value="Ok" class="secondary button disclaimerbutton " />
        <a class="close-reveal-modal">&#215;</a>
    </div>

    </div>
    <div class="row searchable">
        
    </div>
    <div class="row searchable">
        
    </div>
    



    <div id="myShare" class="reveal-modal xlarge">
        <div class="row popupwindow">
            <div class="large-9 small-9 column popupwindow_margin">
                <ul class="popupwindow">
                    <li>Share this 
                    </li>
                    <li>
                        <ul>

                            <li>
                                <a href="javascript:" onclick="ShareMessage('F',this);">
                                    <div class="popupwindow_img ">
                                        <img src="./foundation/Images/fb_icon_2.png" alt="Facebook icon">
                                    </div>
                                   Post on Facebook</a></li>
                            <li>
                                <a href="javascript:" onclick="ShareMessage('T',this);">
                                    <div class="popupwindow_img">
                                        <img src="./foundation/Images/twitter_icon_2.png" alt="twitter icon">
                                    </div>
                                    Tweet on Twitter</a></li>
                            <li>
                                <a href="javascript:" onclick="ShareMessage('G', this);">
                                    <div class="popupwindow_img">
                                        <img src="./foundation/Images/google_icon_2.png" alt="google icon">
                                    </div>
                                    Post on Google+</a></li>
                            <li>
                                <a href="mailto:?subject=Your friend thought you might be interested...&amp;body=&lt;div style=&#39;padding: 0;&#39;&gt;    &lt;div style=&#39;padding: 0;&#39;&gt;    &lt;p&gt;I found this on the Benefiber&#174; Website? I think you might find it interesting.  &lt;a href=&#39;@(Request.Url.ToString())&#39; &gt;Click here &lt;/a&gt;&lt;/p&gt;    &lt;p&gt;This email was sent to you by your friend with content generated by Novartis Consumer Health, Inc. Novartis does not keep your email address that was used to generate this email. This email is sent from an account we use for sending messages only.- If you want to contact us, do not reply to this email. Instead call us at 1-800-452-0051. If you believe you have experienced an adverse event when using our product, please contact us at 1-800-452-0051. If you have a medical emergency, contact your doctor immediately. Use as directed.&lt;/p&gt;&lt;/div&gt;&lt;div style=&#39;padding: 0; &gt;    &lt;p style=&#39;padding: 0&#39;&gt;This e-mail was sent by: Novartis Consumer Health, Inc. 200 Kimball Drive, Parsippany, NJ 07054&lt;/p&gt;  &lt;hr/&gt;     &lt;table cellpadding=&#39;0&#39; cellspacing=&#39;0&#39; width=&#39;100%&#39; style=&#39;-webkit-text-size-adjust: none;&#39;&gt;&lt;tr&gt;&lt;td style=&#39;font-size:10px;&#39;&gt;&lt;a href=&#39;http://novartis.dminc.com/Benefiber/pages/termsofuse&#39;&gt;Terms&amp;nbsp;of&amp;nbsp;Use&lt;/a&gt;&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&lt;a href=&#39;http://novartis.dminc.com/Benefiber/pages/privacypolicy&#39;&gt;Privacy&amp;nbsp;Policy&lt;/a&gt;&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&lt;a href=&#39;http://novartis.dminc.com/Benefiber/pages/contactus&#39;&gt;Contact&amp;nbsp;Us&lt;/a&gt;&lt;/td&gt;&lt;td style=&#39;text-align:right;&#39;&gt;&lt;a href=&#39;http://www.Novartis.com&#39;&gt;&lt;img src=&#39;http://novartis.dminc.com/Benefiber/images/footer_logo.png&#39; width=&#39;80px&#39; height=&#39;15&#39; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div style=&#39;clear: both&#39;&gt;&lt;/div&gt;&lt;/div&gt;"  >
                                    <div class="popupwindow_img">
                                        <img src="./foundation/Images/mail_icon_2.png" alt="mail">
                                    </div>
                                    Share with E-Mail</a></li>
                        </ul>
                    </li>

                </ul>
            </div>
        </div>
        <a class="close-reveal-modal">&#215;</a>
    </div>


    <div id="myConfirm" class="reveal-modal large">
        <div class="row">
            <ul class="disclaimer">
                <li>
                    <p>
                        Clicking on this link means that you have chosen to leave our website. While we believe that the website which you have selected to visit may be of interest to you, it is an independent website which is not under our control. As a result, we do not endorse its content and we have no responsibility for its content or privacy practices. If you do not wish to leave this site, click Cancel. Or, click OK to continue.
                    </p>
                    <div class="action">
                        <input type="submit" id="btnCancel" value="Cancel" class="secondary button disclaimerbutton disclaimerbutton-light" />
                        <input type="submit" id="btnOK" value="Ok" class="secondary button disclaimerbutton " />
                    </div>
                </li>
            </ul>
        </div>
        <a class="close-reveal-modal">&#215;</a>
    </div>
    <div id="videoModal" class="reveal-modal xlarge">
        <div id="VideoTitle" style="">
            <div class="ContainervideoTitle"><span class="videoTitle" id="videoTitle">Video Title</span></div>
            <div id="Close_videoModal" onclick="$('#videoModal').foundation('reveal', 'close');"
                class="CloseReveal">
                &#215;
            </div>
        </div>
        <div class="flex-video">
        </div>
    </div>
  
    <script src="./foundation/Scripts/jquery-1.8.2.js"></script>

    <script src="./foundation/Scripts/jquery-lazyload.js"></script>
<script src="./foundation/Scripts/foundation/foundation.js"></script>
<script src="./foundation/Scripts/foundation/foundation.interchange.js"></script>
<script src="./foundation/Scripts/foundation/foundation.topbar.js"></script>
<script src="./foundation/Scripts/foundation/app.js"></script>


<script src="./foundation/Scripts/foundation/foundation.reveal.js"></script>
<script src="./foundation/Scripts/foundation/foundation.abide.js"></script>
<script src="./foundation/Scripts/foundation/foundation.forms.js"></script>
<script src="./foundation/Scripts/foundation/foundation.reveal.js"></script>

    <script type="text/javascript">
        $(document).foundation();
        prodlist.push(new  productInfo ('/products/powder'.toLowerCase(), 'Benefiber<sup>®</sup> Powder'));
        $("img.lazy").lazyload();
        siteRootUrl = '';
        $(document).ready(function () {
            // $.each($("a[href^='http']"), function () { $(this).click(function () { OpenLink($(this).attr("href"), $(this)); return false; }); });
            // $.each($("a[href^='http']").not("a[href^='http://www.novartis.com']").not("a[href^='https://www.benefiber.com']"), function () { $(this).click(function () { OpenLink($(this).attr("href"), $(this)); return false; }); });
            updateLinks();
            if (siteRootUrl != null && siteRootUrl != "") {
                $.each($("a[href^='/']").not("[href^='" + siteRootUrl + "']"), function () { $(this).attr("href", siteRootUrl + $(this).attr("href")); });
                $.each($("img[src^='/']").not("[src^='" + siteRootUrl + "']"), function () { $(this).attr("src", siteRootUrl + $(this).attr("src")); });
            }
        });
    </script>
    
    <script type="text/javascript" id="4">
      
        $(document).ready(function () {
        
            $("#Month").keypress(function () {
                SetValue(10);
            });

            $("#Year").keypress(function () {
                SetValue(20);
            });

            $("#Zip").click(function () {
                SetValue(30);
            });

            $("#Email").click(function () {
                SetValue(40);
            });
         
            $("#Part3").hide();
            
            disableform2();

            window.addEventListener("load", function () {
                if($("#checkbox1:checked").length > 0) {
                    window.location = window.location.href;
                }
            });
        });
          
        $("#formsignup").on('valid invalid submit', function (e) {
            e.preventDefault();
            e.stopPropagation();

            if (e.type === "valid") {
                if (!$("#checkbox1").is(':checked')) {
                    $("#lblerrforTerms").show();
                    return false;
                }
                else {
                    $("#lblerrforTerms").hide();
                    var req= $.ajax({
                        type: "POST",
                        url: '/signup',
                        data: $("#formsignup").serialize(),//JSON.stringify(a),
                        /*dataType: "jsonp",
                        crossdomain: true,
                        processdata: true,*/
                        timeout:20000,
                        //contentType: "application/json; charset=utf-8",
                        beforeSend: function(){
                            $('#wait').foundation('reveal', 'open',{closeOnBackgroundClick: false});
                        },
                        success: function (result) {
                            $('#wait').foundation('reveal', 'close');
                            disableform1();
                            disableform2();
                            if(result.success) {
                                window.location.href = "/signup/success";
                            }
                            else {
                                window.location.href = "/signup/fail";
                            }
                        },
                        error: function (jqxhr, textStatus) {
                            $('#wait').foundation('reveal', 'close');
                            //alert(textStatus);
                            alert("An error occurred during the sign up operation.");
                            return false;
                        }
                    });
                }
            }

            if (e.type === "submit") {
                return false;
            }

            return false;
        });
       
        $("#formsignup1").on("valid invalid submit", function (e) {
            var year = $("#Year").val();
            var month = $("#Month").val();
            var date = $("#Date").val();
            var currentDate = new Date(2014, 8 - 1, 12);
            e.preventDefault();
            e.stopPropagation();

            if (e.type === "invalid") {
                return false;
            }

            if (e.type === "valid") {
                if (!isValidDate(year, month, date)) {
                    $("#Part3").show();
                    $("#Part3").text("Please enter a valid date.");
                    return false;
                } else {
                    if (isValidAge(year, month, date, currentDate, 18)) {
                        $("#Part3").hide();
                        $("#dateOfBirth").val(year + " " + month + " " + date);
                        enableform2();
                        disableform1();
                    } else {
                        $('#ErrorMsg').foundation('reveal', 'open');
                        return false;
                    }
                }
            }

            return false;
        });

        function disableform1()
        {
            $('#formsignup1').find('input, textarea, button, select').attr('disabled','disabled');
        }
        function disableform2() {
            $('#formsignup').find('input, textarea, button, select').attr('disabled','disabled');
        }
        function enableform2() {
            $('#formsignup').find('input, textarea, button, select').removeAttr('disabled');
        }
        $("#btnClose").off("click").on("click", function () {
            $('#ErrorMsg').foundation('reveal', 'close');
        });
        function SetValue(values) {
            var xyz = $("#26538ff9-5101-4cc9-a24c-d5022f92223c").val();
            if (xyz != 0) {
                if (xyz.indexOf(values) >= 0) {
                    return true;
                } else {
                    xyz = xyz + ";" + values;
                    $("#26538ff9-5101-4cc9-a24c-d5022f92223c").val(xyz);
                }
            } else {
                $("#26538ff9-5101-4cc9-a24c-d5022f92223c").val(values);
            }
        }
    </script>

   <div class="block-background hide-for-large hide-for-small hide-for-medium hide-for-xlarge"></div>
      <script type="text/javascript">          /****Omniture tagging starts here!!****/if (typeof (s) !== "undefined") {s.pageName="m.benefiber:us:Sign up";s.eVar15="Sign Up"; s.pageType="content"; s.channel="m.benefiber:us:sign up"; s.prop1="sign up"; s.prop2="sign up"; s.prop3="content"; s.prop4="Benefiber"; s.prop5="US"; s.prop6="EN"; s.prop50="document.URL;"; s.eVar12="Mobile"; s.eVar4="Benefiber"; s.eVar5="US"; s.eVar6="EN"; s.eVar15="sign up"; s.events="event9"; s.server=document.URL.match("m.benefiber.com") ? "m.benefiber.com" : "Integration"; s.charSet="utf-8"; /************* DO NOT ALTER ANYTHING BELOW THIS LINE !**************/  var s_code = s.t(); if (s_code) document.write(s_code)  } /****Omniture tagging ends here!!****/ /****FloodLight tagging starts here!!****/  floodLightTagging('image','bfibs','benef829');  /****FloodLight tagging ends here!!****/
          </script>
</body>
</html>
